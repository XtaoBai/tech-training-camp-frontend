(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9c53eef8"],{"043a":function(e,t,r){},1276:function(e,t,r){"use strict";var n=r("d784"),i=r("44e7"),o=r("825a"),s=r("1d80"),a=r("4840"),u=r("8aa5"),c=r("50c4"),l=r("14c3"),d=r("9263"),f=r("d039"),p=[].push,g=Math.min,h=4294967295,m=!f((function(){return!RegExp(h,"y")}));n("split",2,(function(e,t,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var n=String(s(this)),o=void 0===r?h:r>>>0;if(0===o)return[];if(void 0===e)return[n];if(!i(e))return t.call(n,e,o);var a,u,c,l=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),g=0,m=new RegExp(e.source,f+"g");while(a=d.call(m,n)){if(u=m.lastIndex,u>g&&(l.push(n.slice(g,a.index)),a.length>1&&a.index<n.length&&p.apply(l,a.slice(1)),c=a[0].length,g=u,l.length>=o))break;m.lastIndex===a.index&&m.lastIndex++}return g===n.length?!c&&m.test("")||l.push(""):l.push(n.slice(g)),l.length>o?l.slice(0,o):l}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var i=s(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,i,r):n.call(String(i),t,r)},function(e,i){var s=r(n,e,this,i,n!==t);if(s.done)return s.value;var d=o(e),f=String(this),p=a(d,RegExp),v=d.unicode,x=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(m?"y":"g"),w=new p(m?d:"^(?:"+d.source+")",x),y=void 0===i?h:i>>>0;if(0===y)return[];if(0===f.length)return null===l(w,f)?[f]:[];var P=0,b=0,R=[];while(b<f.length){w.lastIndex=m?b:0;var C,k=l(w,m?f:f.slice(b));if(null===k||(C=g(c(w.lastIndex+(m?0:b)),f.length))===P)b=u(f,b,v);else{if(R.push(f.slice(P,b)),R.length===y)return R;for(var E=1;E<=k.length-1;E++)if(R.push(k[E]),R.length===y)return R;b=P=C}}return R.push(f.slice(P)),R}]}),!m)},"14c3":function(e,t,r){var n=r("c6b6"),i=r("9263");e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var o=r.call(e,t);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},"44e7":function(e,t,r){var n=r("861d"),i=r("c6b6"),o=r("b622"),s=o("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==i(e))}},"7c15":function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));r("d3b7");var n=r("2b0e"),i=r("bc3a"),o=r.n(i),s="/api",a=r("4360"),u=o.a.create({baseURL:s,timeout:55e3});u.interceptors.request.use((function(e){return a["a"].state.userInfo.data.token&&(e.headers["authorization"]=a["a"].state.userInfo.data.token),e}),(function(e){Promise.reject(e)})),u.interceptors.response.use((function(e){return console.log(e.data),401!=e.data.code&&403!==e.data.code||a["a"].dispatch("userInfo/logout").then((function(){location.reload()})),e.data}),(function(e){var t=e.response.status;return 401===t||403===t?(a["a"].dispatch("userInfo/logout").then((function(){location.reload()})),n["default"].prototype.$Message.error({content:"token失效，或长时间未操作，请重新登录",duration:5})):n["default"].prototype.$Message.error({content:"网络异常，请稍后再试",duration:5}),Promise.reject(e)}));var c=u;function l(e){return c({url:"/register",method:"post",data:e})}},"8aa5":function(e,t,r){"use strict";var n=r("6547").charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},9263:function(e,t,r){"use strict";var n=r("ad6d"),i=r("9f7f"),o=RegExp.prototype.exec,s=String.prototype.replace,a=o,u=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),c=i.UNSUPPORTED_Y||i.BROKEN_CARET,l=void 0!==/()??/.exec("")[1],d=u||l||c;d&&(a=function(e){var t,r,i,a,d=this,f=c&&d.sticky,p=n.call(d),g=d.source,h=0,m=e;return f&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),m=String(e).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==e[d.lastIndex-1])&&(g="(?: "+g+")",m=" "+m,h++),r=new RegExp("^(?:"+g+")",p)),l&&(r=new RegExp("^"+g+"$(?!\\s)",p)),u&&(t=d.lastIndex),i=o.call(f?r:d,m),f?i?(i.input=i.input.slice(h),i[0]=i[0].slice(h),i.index=d.lastIndex,d.lastIndex+=i[0].length):d.lastIndex=0:u&&i&&(d.lastIndex=d.global?i.index+i[0].length:t),l&&i&&i.length>1&&s.call(i[0],r,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i}),e.exports=a},"9f7f":function(e,t,r){"use strict";var n=r("d039");function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a55b:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-container"},[e._m(0),r("div",{staticClass:"login-box"},[2!=e.typeView?r("div",{staticClass:"login-text"},[r("a",{class:0==e.typeView?"active":"",attrs:{href:"javascript:;"},on:{click:function(t){return e.handleTab(0)}}},[e._v("登录")]),r("b",[e._v("·")]),r("a",{class:1==e.typeView?"active":"",attrs:{href:"javascript:;"},on:{click:function(t){return e.handleTab(1)}}},[e._v("注册")])]):e._e(),r("div",{directives:[{name:"show",rawName:"v-show",value:0==e.typeView,expression:"typeView == 0"}],staticClass:"content"},[r("div",{staticClass:"input-box"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.formLogin.userName,expression:"formLogin.userName"}],staticClass:"input",attrs:{autocomplete:"off",type:"text",placeholder:"请输入注册邮箱/手机号"},domProps:{value:e.formLogin.userName},on:{input:function(t){t.target.composing||e.$set(e.formLogin,"userName",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formLogin.userPwd,expression:"formLogin.userPwd"}],staticClass:"input",attrs:{autocomplete:"off",type:"password",placeholder:"请输入密码"},domProps:{value:e.formLogin.userPwd},on:{input:function(t){t.target.composing||e.$set(e.formLogin,"userPwd",t.target.value)}}}),r("Button",{staticClass:"loginBtn",attrs:{type:"primary",disabled:e.isDisabled,loading:e.isLoading},on:{click:function(t){return t.stopPropagation(),e.login(t)}}},[e._v(" 立即登录 ")]),r("div",{staticClass:"option"},[r("Checkbox",{staticClass:"remember",on:{"on-change":e.checkChange},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[r("span",{staticClass:"checked"},[e._v("记住我")])]),r("span",{staticClass:"forget-pwd",on:{click:function(t){return t.stopPropagation(),e.forgetPwd(t)}}},[e._v("忘记密码？")])],1)],1)]),r("div",{directives:[{name:"show",rawName:"v-show",value:1==e.typeView,expression:"typeView == 1"}],staticClass:"content"},[r("div",{staticClass:"input-box"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.formRegister.userName,expression:"formRegister.userName"}],staticClass:"input",attrs:{autocomplete:"off",type:"text",placeholder:"请输入注册邮箱/手机号"},domProps:{value:e.formRegister.userName},on:{input:function(t){t.target.composing||e.$set(e.formRegister,"userName",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formRegister.userPwd,expression:"formRegister.userPwd"}],staticClass:"input",attrs:{autocomplete:"off",type:"password",placeholder:"请输入密码",maxlength:"20"},domProps:{value:e.formRegister.userPwd},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.register(t)},input:function(t){t.target.composing||e.$set(e.formRegister,"userPwd",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formRegister.userPwd2,expression:"formRegister.userPwd2"}],staticClass:"input",attrs:{autocomplete:"off",type:"password",placeholder:"请再次输入密码",maxlength:"20"},domProps:{value:e.formRegister.userPwd2},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.register(t)},input:function(t){t.target.composing||e.$set(e.formRegister,"userPwd2",t.target.value)}}}),r("Button",{staticClass:"loginBtn",attrs:{type:"primary",disabled:e.isRegAble,loading:e.isLoading},on:{click:function(t){return t.stopPropagation(),e.register(t)}}},[e._v(" 立即注册 ")])],1)])])])},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pageHeader"},[r("span",[e._v("LightMark编辑")])])}],o=(r("1276"),r("ac1f"),r("7c15")),s={name:"login",components:{},data:function(){return{formLogin:{userName:"",userPwd:""},formRegister:{userName:"",userPwd:"",userPwd2:""},typeView:0,checked:!1,isLoading:!1}},computed:{isDisabled:function(){return!(this.formLogin.userName&&this.formLogin.userPwd)},isRegAble:function(){return!(this.formRegister.userName&&this.formRegister.userPwd&&this.formRegister.userPwd2)}},mounted:function(){this.getCookie()},methods:{handleTab:function(e){this.typeView=e,this.clearInput()},focusInput:function(e){1===e?this.$refs.loginVerifyCode.style.borderBottomColor="#0f52e0":this.$refs.resetVerifyCode.style.borderBottomColor="#0f52e0"},blurInput:function(e){2===e?this.$refs.resetVerifyCode.style.borderBottomColor="#e7e7e7":this.$refs.loginVerifyCode.style.borderBottomColor="#e7e7e7"},selectLogin:function(){this.typeView=0,this.clearInput()},forgetPwd:function(){this.$Message.info("忘记密码，请联系客服")},login:function(){var e=this;return console.log("登录"),this.isDisabled||this.isLoading?(console.log("Loading"),!1):this.$Valid.validPass(this.formLogin.userPwd)?void setTimeout((function(){e.$router.push("/home")}),200):(this.$Message.error("密码应为8到20位字母或数字！"),!1)},register:function(){var e=this;if(this.isRegAble||this.isLoading)return!1;if(!this.$Valid.validUserName(this.formRegister.userName))return this.$Message.error("请输入正确的邮箱/手机号"),!1;if(!this.$Valid.validPass(this.formRegister.userPwd))return this.$Message.error("密码应为8到20位字母或数字！"),!1;if(!this.$Valid.validPass(this.formRegister.userPwd2))return this.$Message.error("确认密码有误"),!1;if(this.formRegister.userPwd2!==this.formRegister.userPwd)return this.$Message.error("两次密码不一致"),!1;this.isLoading=!0;var t={username:this.formRegister.userName,password:this.formRegister.userPwd2};Object(o["a"])(t).then((function(t){e.isLoading=!1,console.log("注册===",t),0==t.code?(e.clearInput(),e.$Message.success("注册成功"),e.$store.dispatch("userInfo/saveInfo",t.data),e.$router.push("/home")):e.$Message.error(t.msg)})).catch((function(){e.isLoading=!1}))},setCookie:function(e,t,r){var n=new Date;n.setTime(n.getTime()+864e5*r),window.document.cookie="userName="+e+";path=/;expires="+n.toUTCString(),window.document.cookie="userPwd="+t+";path=/;expires="+n.toUTCString()},getCookie:function(){if(document.cookie.length>0){var e=document.cookie.split("; ");console.log(e);for(var t=0;t<e.length;t++){var r=e[t].split("=");"userName"==r[0]?this.formLogin.userName=r[1]:"userPwd"==r[0]&&(this.formLogin.userPwd=r[1])}}},clearCookie:function(){this.setCookie("","",-1)},checkChange:function(e){console.log(e),this.checked=e},clearInput:function(){this.formLogin={userName:"",userPwd:""},this.formRegister={userName:"",userPwd2:"",userPwd:""}}}},a=s,u=(r("c365"),r("2877")),c=Object(u["a"])(a,n,i,!1,null,"00bcdea0",null);t["default"]=c.exports},ac1f:function(e,t,r){"use strict";var n=r("23e7"),i=r("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(e,t,r){"use strict";var n=r("825a");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},c365:function(e,t,r){"use strict";r("043a")},d784:function(e,t,r){"use strict";r("ac1f");var n=r("6eeb"),i=r("d039"),o=r("b622"),s=r("9263"),a=r("9112"),u=o("species"),c=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),d=o("replace"),f=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),p=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,d){var g=o(e),h=!i((function(){var t={};return t[g]=function(){return 7},7!=""[e](t)})),m=h&&!i((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[u]=function(){return r},r.flags="",r[g]=/./[g]),r.exec=function(){return t=!0,null},r[g](""),!t}));if(!h||!m||"replace"===e&&(!c||!l||f)||"split"===e&&!p){var v=/./[g],x=r(g,""[e],(function(e,t,r,n,i){return t.exec===s?h&&!i?{done:!0,value:v.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),w=x[0],y=x[1];n(String.prototype,e,w),n(RegExp.prototype,g,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}d&&a(RegExp.prototype[g],"sham",!0)}}}]);
//# sourceMappingURL=chunk-9c53eef8.b99a3157.js.map